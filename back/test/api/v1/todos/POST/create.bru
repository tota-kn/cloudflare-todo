meta {
  name: todos-create
  type: http
  seq: 1
}

post {
  url: {{BASE_URL}}/v1/todos
  body: json
  auth: none
}

body:json {
  {
    "title": "Test Todo Create",
    "description": "This is a test todo item created",
    "completed": false
  }
}

tests {
  test("Response status is 201", function() {
    expect(res.getStatus()).to.equal(201);
  });
  
  test("Response contains created todo", function() {
    expect(res.getBody()).to.have.property('todo');
    const todo = res.getBody().todo;
    expect(todo).to.have.property('title');
    expect(todo.title).to.equal('Test Todo Create');
    expect(todo).to.have.property('description');
    expect(todo.description).to.equal('This is a test todo item created');
    expect(todo).to.have.property('completed', false);
    expect(todo).to.have.property('id');
    expect(todo).to.have.property('created_at');
    expect(todo).to.have.property('updated_at');
  });
}
